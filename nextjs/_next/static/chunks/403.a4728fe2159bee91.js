(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{5236:function(t){window.mathquill4quill=function(t){const e=(t=t||{}).Quill||window.Quill,n=t.MathQuill||window.MathQuill,l=t.katex||window.katex,i=t.localStorage||window.localStorage;function o(t){try{return i.getItem(t)}catch(e){return""}}return function(t,u){function r(){return t.container.getElementsByClassName("ql-tooltip")[0]}function a(){return r().getElementsByTagName("input")[0]}if(u=u||{},!(e?n?l?t.options.modules.formula?MutationObserver||(console.log("MutationObserver not defined"),0):(console.log("Formula module not enabled"),0):(console.log("katex.js not loaded"),0):(console.log("MathQuill.js not loaded"),0):(console.log("Quill.js not loaded"),0)))return;const c=r(),s=u.historyCacheKey||"__mathquill4quill_historylist_cache__";let d=function(t){try{return JSON.parse(i.getItem(t))||[]}catch(e){return[]}}(s);const h=u.historySize||10,f=u.displayHistory||!1,m=u.displayDeleteButtonOnHistory||!1,p=function(){const t=null==u.autofocus||u.autofocus,e=null!=u.mathQuillConfig?u.mathQuillConfig:{},l=u.cacheKey||"__mathquill4quill_cache__";let c=null,f=null,m=null;function p(t,u){const r=null==e.handlers?{}:e.handlers;e.handlers={...r,edit(){const e=a.latex();t.value=e,function(t,e){try{i.setItem(t,e)}catch(n){}}(l,e)},enter(){u.click()}};const a=n.getInterface(2).MathField(c,e),f=o(l);return f&&a.latex(f),u.addEventListener("click",(()=>{!function(t){const e=o(t);if(e&&e.length>0){const t=d.indexOf(e);-1!=t&&d.splice(t,1),d.unshift(e),d.length>h&&d.pop();try{i.setItem(s,JSON.stringify(d))}catch(n){}}}(l),function(t){try{i.removeItem(t)}catch(e){}}(l)})),a}return{render(){if(null!=c)return;const e=a(),n=r().getElementsByClassName("ql-action")[0];var l,i;return c=document.createElement("span"),function(t){t.setAttribute("class","mathquill4quill-mathquill-input")}(c),m=e.className,function(t){t.setAttribute("class","mathquill4quill-latex-input")}(e),f=p(e,n),function(e){t&&window.setTimeout((()=>e.focus()),1)}(f),l=c,(i=e).parentNode.insertBefore(l,i.nextSibling),f},destroy(){if(null==c)return;a().setAttribute("class",m),c.remove(),c=null}}}(),b=function(){const t=u.operators||[];let e=null;return{render(n){if(null!=e||0===t.length)return;const i=r();e=document.createElement("div"),function(t){t.setAttribute("class","mathquill4quill-operator-container")}(e),t.forEach((t=>{const i=function(t,e){const n=t[0],i=t[1],o=document.createElement("button");return o.setAttribute("type","button"),o.setAttribute("data-value",i),l.render(n,o,{throwOnError:!1}),o.onclick=()=>{!function(t){return/^\\[A-Za-z]+$/.test(t)}(i)?e.write(i):e.cmd(i),e.focus()},o}(t,n);!function(t){t.setAttribute("class","mathquill4quill-operator-button")}(i),e.appendChild(i)})),i.appendChild(e)},destroy(){null!=e&&(e.remove(),e=null)}}}(),y=function(){const e=d||[];let n=null;return{render(o){if(function(){const e=r();e.getBoundingClientRect().top-t.container.getBoundingClientRect().top<0&&(e.style.top="0px")}(),null!=n||!f||0===e.length)return;const u=r();n=document.createElement("div");let a=document.createElement("div");!function(t,e){let n="mathquill4quill-history-container";e&&(n+=" mathquill4quill-history-container-with-delete-button"),t.setAttribute("class",n)}(a,m);let c=document.createElement("p");c.innerHTML="Past formulas (max "+h+")",n.appendChild(c),e.forEach((t=>{const n=function(t,e){const n=document.createElement("button");return n.setAttribute("type","button"),l.render(t,n,{throwOnError:!1}),n.onclick=()=>{e.write(t),e.focus()},n}(t,o);if(function(t){t.setAttribute("class","mathquill4quill-history-button")}(n),m){const l=document.createElement("div");!function(t){t.setAttribute("class","mathquill4quill-history-inner-container")}(l);const o=document.createElement("div");!function(t){t.setAttribute("class","mathquill4quill-history-delete-button"),t.setAttribute("title","Delete"),t.setAttribute("role","button")}(o),o.addEventListener("click",(()=>{l.remove();const n=e.indexOf(t);!function(t,e){t.splice(e,1);try{i.setItem(s,JSON.stringify(t))}catch(n){}}(e,n)})),l.appendChild(n),l.appendChild(o),a.appendChild(l)}else a.appendChild(n)})),n.appendChild(a),u.appendChild(n)},destroy(){null!=n&&(n.remove(),n=null)}}}();new MutationObserver((()=>{if(!c.classList.contains("ql-hidden")&&c.attributes["data-mode"]&&"formula"===c.attributes["data-mode"].value){const t=p.render();b.render(t),y.render(t)}else p.destroy(),b.destroy(),y.destroy()})).observe(c,{attributes:!0,attributeFilter:["class","data-mode"]})}},t.exports&&(t.exports=window.mathquill4quill),window.Quill&&(window.Quill.prototype.enableMathQuillFormulaAuthoring=function(t){window.mathquill4quill()(this,t)})},403:function(t,e,n){"use strict";n.r(e);var l=n(4111),i=n(1438),o=n(2951),u=n(8029),r=n(460),a=n(5893),c=n(9755),s=n.n(c),d=n(1008),h=n(7294),f=n(1167),m=n.n(f);window.katex=d.Z,window.jQuery=window.$=s();n(5236);n(8297);var p=function(t){(0,u.Z)(n,t);var e=(0,r.Z)(n);function n(t){var o;return(0,i.Z)(this,n),(o=e.call(this,t)).reactQuill=h.createRef(),o.attachQuillRefs=o.attachQuillRefs.bind((0,l.Z)(o)),o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.attachQuillRefs()}},{key:"attachQuillRefs",value:function(){mathquill4quill({Quill:f.Quill,katex:d.Z})(this.reactQuill.current.editor,this.props.options)}},{key:"render",value:function(){return(0,a.jsx)(m(),{ref:this.reactQuill,modules:{formula:!0,toolbar:[["video","bold","italic","underline","formula"]]},theme:"snow",placeholder:"Compose an epic ...",bounds:".quill"})}}]),n}(h.Component);e.default=p}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{5236:function(t){window.mathquill4quill=function(t){t=t||{};let e=t.Quill||window.Quill,l=t.MathQuill||window.MathQuill,n=t.katex||window.katex,i=t.localStorage||window.localStorage;function getCacheItem(t){try{return i.getItem(t)}catch(t){return""}}return function(t,o){function getTooltip(){return t.container.getElementsByClassName("ql-tooltip")[0]}function getLatexInput(){let t=getTooltip();return t.getElementsByTagName("input")[0]}if(o=o||{},!(e?l?n?t.options.modules.formula?!!MutationObserver||(console.log("MutationObserver not defined"),!1):(console.log("Formula module not enabled"),!1):(console.log("katex.js not loaded"),!1):(console.log("MathQuill.js not loaded"),!1):(console.log("Quill.js not loaded"),!1)))return;let u=getTooltip(),r=o.historyCacheKey||"__mathquill4quill_historylist_cache__",a=function(t){try{return JSON.parse(i.getItem(t))||[]}catch(t){return[]}}(r),s=o.historySize||10,c=o.displayHistory||!1,d=o.displayDeleteButtonOnHistory||!1,h=function(){let t=null==o.autofocus||o.autofocus,e=null!=o.mathQuillConfig?o.mathQuillConfig:{},n=o.cacheKey||"__mathquill4quill_cache__",u=null,c=null,d=null;return{render(){var o;if(null!=u)return;let h=getLatexInput(),m=function(){let t=getTooltip();return t.getElementsByClassName("ql-action")[0]}();return function(t){t.setAttribute("class","mathquill4quill-mathquill-input")}(u=document.createElement("span")),d=h.className,function(t){t.setAttribute("class","mathquill4quill-latex-input")}(h),o=c=function(t,o){let c=null==e.handlers?{}:e.handlers;e.handlers={...c,edit(){let e=d.latex();t.value=e,function(t,e){try{i.setItem(t,e)}catch(t){}}(n,e)},enter(){o.click()}};let d=l.getInterface(2).MathField(u,e),h=getCacheItem(n);return h&&d.latex(h),o.addEventListener("click",()=>{(function(t){let e=getCacheItem(t);if(e&&e.length>0){let t=a.indexOf(e);-1!=t&&a.splice(t,1),a.unshift(e),a.length>s&&a.pop();try{i.setItem(r,JSON.stringify(a))}catch(t){}}})(n),function(t){try{i.removeItem(t)}catch(t){}}(n)}),d}(h,m),t&&window.setTimeout(()=>o.focus(),1),function(t,e){e.parentNode.insertBefore(t,e.nextSibling)}(u,h),c},destroy(){if(null==u)return;let t=getLatexInput();t.setAttribute("class",d),u.remove(),u=null}}}(),m=function(){let t=o.operators||[],e=null;return{render(l){if(null!=e||0===t.length)return;let i=getTooltip();(function(t){t.setAttribute("class","mathquill4quill-operator-container")})(e=document.createElement("div")),t.forEach(t=>{let i=function(t,e){let l=t[0],i=t[1],o=document.createElement("button");return o.setAttribute("type","button"),o.setAttribute("data-value",i),n.render(l,o,{throwOnError:!1}),o.onclick=()=>{/^\\[A-Za-z]+$/.test(i)?e.cmd(i):e.write(i),e.focus()},o}(t,l);(function(t){t.setAttribute("class","mathquill4quill-operator-button")})(i),e.appendChild(i)}),i.appendChild(e)},destroy(){null!=e&&(e.remove(),e=null)}}}(),f=function(){let e=a||[],l=null;return{render(o){let u;if(function(){let e=getTooltip();e.getBoundingClientRect().top-t.container.getBoundingClientRect().top<0&&(e.style.top="0px")}(),null!=l||!c||0===e.length)return;let a=getTooltip();l=document.createElement("div");let h=document.createElement("div");u="mathquill4quill-history-container",d&&(u+=" mathquill4quill-history-container-with-delete-button"),h.setAttribute("class",u);let m=document.createElement("p");m.innerHTML="Past formulas (max "+s+")",l.appendChild(m),e.forEach(t=>{let l=function(t,e){let l=document.createElement("button");return l.setAttribute("type","button"),n.render(t,l,{throwOnError:!1}),l.onclick=()=>{e.write(t),e.focus()},l}(t,o);if(function(t){t.setAttribute("class","mathquill4quill-history-button")}(l),d){let n=document.createElement("div");!function(t){t.setAttribute("class","mathquill4quill-history-inner-container")}(n);let o=document.createElement("div");o.setAttribute("class","mathquill4quill-history-delete-button"),o.setAttribute("title","Delete"),o.setAttribute("role","button"),o.addEventListener("click",()=>{n.remove();let l=e.indexOf(t);!function(t,e){t.splice(e,1);try{i.setItem(r,JSON.stringify(t))}catch(t){}}(e,l)}),n.appendChild(l),n.appendChild(o),h.appendChild(n)}else h.appendChild(l)}),l.appendChild(h),a.appendChild(l)},destroy(){null!=l&&(l.remove(),l=null)}}}(),p=new MutationObserver(()=>{let t=!u.classList.contains("ql-hidden")&&u.attributes["data-mode"]&&"formula"===u.attributes["data-mode"].value;if(t){let t=h.render();m.render(t),f.render(t)}else h.destroy(),m.destroy(),f.destroy()});p.observe(u,{attributes:!0,attributeFilter:["class","data-mode"]})}},t.exports&&(t.exports=window.mathquill4quill),window.Quill&&(window.Quill.prototype.enableMathQuillFormulaAuthoring=function(t){window.mathquill4quill()(this,t)})},3049:function(t,e,l){"use strict";l.r(e);var n=l(5893),i=l(9755),o=l.n(i),u=l(1008),r=l(7294),a=l(1167),s=l.n(a);window.katex=u.Z,window.jQuery=window.$=o(),window.mathquill4quill=l(5236),l(8297);let QuillEditor=class QuillEditor extends r.Component{componentDidMount(){this.didAttachQuillRefs||(this.attachQuillRefs(),this.didAttachQuillRefs=!0)}attachQuillRefs(){let t=window.mathquill4quill({Quill:a.Quill,katex:u.Z});t(this.reactQuill.current.editor,this.props.options)}render(){return(0,n.jsx)(s(),{ref:this.reactQuill,modules:{formula:!0,toolbar:[["video","bold","italic","underline","formula"]]},theme:"snow",placeholder:"Compose an epic ...",bounds:".quill"})}constructor(t){super(t),this.reactQuill=r.createRef(),this.attachQuillRefs=this.attachQuillRefs.bind(this),this.didAttachQuillRefs=!1}};e.default=QuillEditor}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{5236:function(t){window.mathquill4quill=function(t){const e=(t=t||{}).Quill||window.Quill,n=t.MathQuill||window.MathQuill,l=t.katex||window.katex,o=t.localStorage||window.localStorage;function i(t){try{return o.getItem(t)}catch(e){return""}}return function(t,u){function r(){return t.container.getElementsByClassName("ql-tooltip")[0]}function c(){return r().getElementsByTagName("input")[0]}if(u=u||{},!(e?n?l?t.options.modules.formula?MutationObserver||(console.log("MutationObserver not defined"),0):(console.log("Formula module not enabled"),0):(console.log("katex.js not loaded"),0):(console.log("MathQuill.js not loaded"),0):(console.log("Quill.js not loaded"),0)))return;const a=r(),s=u.historyCacheKey||"__mathquill4quill_historylist_cache__";let d=function(t){try{return JSON.parse(o.getItem(t))||[]}catch(e){return[]}}(s);const f=u.historySize||10,h=u.displayHistory||!1,m=u.displayDeleteButtonOnHistory||!1,p=function(){const t=null==u.autofocus||u.autofocus,e=null!=u.mathQuillConfig?u.mathQuillConfig:{},l=u.cacheKey||"__mathquill4quill_cache__";let a=null,h=null,m=null;function p(t,u){const r=null==e.handlers?{}:e.handlers;e.handlers={...r,edit(){const e=c.latex();t.value=e,function(t,e){try{o.setItem(t,e)}catch(n){}}(l,e)},enter(){u.click()}};const c=n.getInterface(2).MathField(a,e),h=i(l);return h&&c.latex(h),u.addEventListener("click",(()=>{!function(t){const e=i(t);if(e&&e.length>0){const t=d.indexOf(e);-1!=t&&d.splice(t,1),d.unshift(e),d.length>f&&d.pop();try{o.setItem(s,JSON.stringify(d))}catch(n){}}}(l),function(t){try{o.removeItem(t)}catch(e){}}(l)})),c}return{render(){if(null!=a)return;const e=c(),n=r().getElementsByClassName("ql-action")[0];var l,o;return a=document.createElement("span"),function(t){t.setAttribute("class","mathquill4quill-mathquill-input")}(a),m=e.className,function(t){t.setAttribute("class","mathquill4quill-latex-input")}(e),h=p(e,n),function(e){t&&window.setTimeout((()=>e.focus()),1)}(h),l=a,(o=e).parentNode.insertBefore(l,o.nextSibling),h},destroy(){if(null==a)return;c().setAttribute("class",m),a.remove(),a=null}}}(),y=function(){const t=u.operators||[];let e=null;return{render(n){if(null!=e||0===t.length)return;const o=r();e=document.createElement("div"),function(t){t.setAttribute("class","mathquill4quill-operator-container")}(e),t.forEach((t=>{const o=function(t,e){const n=t[0],o=t[1],i=document.createElement("button");return i.setAttribute("type","button"),i.setAttribute("data-value",o),l.render(n,i,{throwOnError:!1}),i.onclick=()=>{!function(t){return/^\\[A-Za-z]+$/.test(t)}(o)?e.write(o):e.cmd(o),e.focus()},i}(t,n);!function(t){t.setAttribute("class","mathquill4quill-operator-button")}(o),e.appendChild(o)})),o.appendChild(e)},destroy(){null!=e&&(e.remove(),e=null)}}}(),b=function(){const e=d||[];let n=null;return{render(i){if(function(){const e=r();e.getBoundingClientRect().top-t.container.getBoundingClientRect().top<0&&(e.style.top="0px")}(),null!=n||!h||0===e.length)return;const u=r();n=document.createElement("div");let c=document.createElement("div");!function(t,e){let n="mathquill4quill-history-container";e&&(n+=" mathquill4quill-history-container-with-delete-button"),t.setAttribute("class",n)}(c,m);let a=document.createElement("p");a.innerHTML="Past formulas (max "+f+")",n.appendChild(a),e.forEach((t=>{const n=function(t,e){const n=document.createElement("button");return n.setAttribute("type","button"),l.render(t,n,{throwOnError:!1}),n.onclick=()=>{e.write(t),e.focus()},n}(t,i);if(function(t){t.setAttribute("class","mathquill4quill-history-button")}(n),m){const l=document.createElement("div");!function(t){t.setAttribute("class","mathquill4quill-history-inner-container")}(l);const i=document.createElement("div");!function(t){t.setAttribute("class","mathquill4quill-history-delete-button"),t.setAttribute("title","Delete"),t.setAttribute("role","button")}(i),i.addEventListener("click",(()=>{l.remove();const n=e.indexOf(t);!function(t,e){t.splice(e,1);try{o.setItem(s,JSON.stringify(t))}catch(n){}}(e,n)})),l.appendChild(n),l.appendChild(i),c.appendChild(l)}else c.appendChild(n)})),n.appendChild(c),u.appendChild(n)},destroy(){null!=n&&(n.remove(),n=null)}}}();new MutationObserver((()=>{if(!a.classList.contains("ql-hidden")&&a.attributes["data-mode"]&&"formula"===a.attributes["data-mode"].value){const t=p.render();y.render(t),b.render(t)}else p.destroy(),y.destroy(),b.destroy()})).observe(a,{attributes:!0,attributeFilter:["class","data-mode"]})}},t.exports&&(t.exports=window.mathquill4quill),window.Quill&&(window.Quill.prototype.enableMathQuillFormulaAuthoring=function(t){window.mathquill4quill()(this,t)})},4769:function(t,e,n){"use strict";n.r(e);var l=n(5671),o=n(3144),i=n(7326),u=n(9340),r=n(6215),c=n(1120),a=n(9755),s=n.n(a),d=n(1008),f=n(7294),h=n(1167),m=n.n(h),p=n(5893);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,l=(0,c.Z)(t);if(e){var o=(0,c.Z)(this).constructor;n=Reflect.construct(l,arguments,o)}else n=l.apply(this,arguments);return(0,r.Z)(this,n)}}window.katex=d.Z,window.jQuery=window.$=s();n(5236);n(8297);var b=function(t){(0,u.Z)(n,t);var e=y(n);function n(t){var o;return(0,l.Z)(this,n),(o=e.call(this,t)).reactQuill=f.createRef(),o.attachQuillRefs=o.attachQuillRefs.bind((0,i.Z)(o)),o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.attachQuillRefs()}},{key:"attachQuillRefs",value:function(){mathquill4quill({Quill:h.Quill,katex:d.Z})(this.reactQuill.current.editor,this.props.options)}},{key:"render",value:function(){return(0,p.jsx)(m(),{ref:this.reactQuill,modules:{formula:!0,toolbar:[["video","bold","italic","underline","formula"]]},theme:"snow",placeholder:"Compose an epic ...",bounds:".quill"})}}]),n}(f.Component);e.default=b}}]);